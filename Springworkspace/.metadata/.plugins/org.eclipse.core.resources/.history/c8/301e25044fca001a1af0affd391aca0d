package com.withpet.app;

import javax.servlet.http.HttpServletRequest;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

import health.HealthDTO;

@Controller
public class HealthController {
	
	
	//동물운동정보 저장
	@RequestMapping(value="/anHealth"
					, method = {RequestMethod.GET, RequestMethod.POST }
					, produces = "text/html; charset=utf-8")
	public String anHealth (HttpServletRequest req, Model model) {
		int num = Integer.parseInt(req.getParameter("num"));
		int pet = Integer.parseInt((String) req.getParameter("pet"));
		String location = (String) req.getParameter("location");
		String date = (String) req.getParameter("date");
		HealthDTO dto = new HealthDTO(num, pet, location, date);
		
		
		//ACommand를 상속받은 하위 Command인 APetCommand를 사용함
		//command = new AHealthCommand();
		//command.execute(model);		
		
		return "anHealth";
	}//anPet
	
	
	//동물운동정보 가져오기
	@RequestMapping(value="/anHealthGet"
					, method = {RequestMethod.GET, RequestMethod.POST}
					, produces = "text/html; charset=utf-8")
	public String anHealthGet(HttpServletRequest req, Model model){
		
		String pet = (String) req.getParameter("pet");			
		System.out.println(pet);
		
		model.addAttribute("pet", pet);
		
		//ACommand를 상속받은 하위 커멘드를 사용함
		//command = new AHealthGetCommand();
		//command.execute(model);
		
		return "anHealthGet";
	}//anDBResultArray()
	
}
